--extra-index-url https://download.pytorch.org/whl/cpu

# Core web framework (lightweight)
fastapi==0.95.2  # Pin to avoid compatibility issues
uvicorn==0.22.0  # Without [standard] to reduce dependencies
python-multipart==0.0.9

# Core ML/NLP (optimized versions)
torch==2.2.1+cpu  # Lighter than latest, CPU-only
transformers==4.28.1  # Tested version with PyTorch 2.2.1
sentence-transformers==2.2.2
numpy==1.24.4  # Avoids conflicts with torch
scipy==1.10.1  # Lighter than latest
scikit-learn==1.3.2  # Stable version

# Vector database (CPU-only)
faiss-cpu==1.7.4  # Fixed version for stability

# Utilities (minimal)
python-dotenv==1.0.0
tqdm==4.66.1
aiofiles==23.2.1
setuptools>=68.0.0

# Optional (uncomment only if needed)
# accelerate==0.27.2  # For better CPU inference
# bitsandbytes==0.41.1  # Only if using 4/8-bit quantization